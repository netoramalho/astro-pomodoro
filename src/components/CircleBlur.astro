---
const { color, class: className } = Astro.props;
---

<div id="circle" class:list={['circle-blur', `circle-blur--${color}`, className]} />

<script is:inline>
document.addEventListener('mousemove', function(e) {
    let circle = document.getElementById('circle');
    const offset = circle.offsetWidth / 2
    let left = e.x - offset;
    let top = e.y - offset;
    circle.style.left = `${left}px`;
    circle.style.top = `${top}px`;
});
</script>

<style lang="scss">
    .circle-blur {
        position: absolute;
        max-width: 70vw;
        max-height: 70vh;
        width: 640px;
        height: 640px;
        filter: blur(300px);
        -webkit-perspective: 1000;
        -webkit-transform: translateZ(0);
        background-color: hsla(var(--color), 63%, 36%, 1);
        transition: background-color 400ms ease-in-out;
        border-radius: 50%;
        pointer-events: none;
        z-index: 1;

        &--teal {
            background: rgba(69, 169, 225, 0.7);
        }

        &--purple {
            background: rgba(79, 34, 151, 0.7);
        }
        
        &--blue {
            background: #223597;
        }
    }
</style>